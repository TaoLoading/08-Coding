<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>手写Ajax</title>
</head>

<body>
  <script>
    /**
     * 知识点补充：
     * ajax、fetch、axios的区别？
     * 1. ajax是一项技术的统称，实现页面局部刷新
     * 2. fetch是一个浏览器的原生api，与XMLHttpRequest是同一个级别，可以看出是XMLHttpRequest的改良版
     * 3. axios是一个基于promise的网络请求库，是对xhr的二次封装
     */

    /**
     * XMLHttpRequest版
     * 
     * get方式ajax，传参通过拼接在url后
     * post方式ajax，传参通过传入send()
     */
    function ajax1(method, url, successFn) {
      const xhr = new XMLHttpRequest()
      xhr.open('get', url)
      xhr.onreadystatechange = function () {
        if (xhr.readyState === 4 && xhr.status === 200) {
        }
      }
      xhr.send()
    }

    /**
     * fetch版
     * 
     * fetch语法更简洁，且支持promise
     */
    function ajax2(url) {
      return fetch(url).then(res => {
        console.log('请求成功，返回值为', res.json())
      })
    }
  </script>
</body>

</html>