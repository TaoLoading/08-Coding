# 垃圾回收机制

## 概念

垃圾回收机制（Garbage Collection）是一种自动内存管理的方式，可以识别并释放那些不再被应用程序或系统所使用的内存

## 主要回收策略

### 标记清除

回收器会标记所有从根对象（如全局对象、活动的函数调用等）可达的对象，清除所有未标记的对象

优点：操作简单

缺点：

1. 在清除之后，剩余的对象内存位置不变，导致空闲内存空间不连续，造成内存碎片化
2. 需每隔一段时间执行，且在垃圾回收期间其他程序可能被暂停

### 引用计数

通过计算一个对象的引用次数来确定是否可以回收。如果一个对象的引用数降至零，表示没有任何部分使用该对象，因此可以安全地回收其内存

优点：

1. 当对象没有引用时可立即被回收
2. 不需要间隔时间运行

缺点：

1. 当遇到循环引用时无法正常回收
2. 需要使用计数器，计数器同样占内存

## V8 引擎的回收优化

1. 增量收集：圾回收被分成多个小部分进行，避免应用程序的长时间暂停
2. 分代收集：将对象分为“年轻代”和“老年代”，基于对象的生命周期进行优化处理
3. 懒性清理和压缩：延迟清理操作，直到需要更多空间时才执行，同时也可能对内存进行压缩以减少碎片化
